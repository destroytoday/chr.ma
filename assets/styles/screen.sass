@import '_normalize'
@import '_mixins'
@import 'bourbon/bourbon'
@import 'grid-settings'
@import 'neat/neat'

// variables

$base-font: "proxima-nova", "Helvetica Neue", Helvetica, sans-serif
$header-font: "futura-pt", "Helvetica Neue", Helvetica, sans-serif

$line-dark-grey: #3a3a3a
$line-grey: #5a5a5a
$line-white: #fff

$fill-white: #fff
$fill-darkest-grey: #131313
$fill-darker-grey: #1d1d1d
$fill-dark-grey: #3a3a3a
$fill-grey: #666666
$fill-green: #08B58E
$fill-green-hover: #09DDAD

$text-darkest-grey: #3A3A3A
$text-grey: #878787
$text-light-grey: #c1c1c1
$text-white: #fff

$tablet-narrow: 480px
$tablet-wide: 768px
$desktop-size: 1024px

// reset

@media screen and (max-device-width: 480px)
  html
    -webkit-text-size-adjust: 100%
    -ms-text-size-adjust: 100%

*,
*:before,
*:after
  +prefix-property(box-sizing, border-box)

ul
  padding: 0
  margin: 0

li
  list-style-type: none

// base

html, body
  background-color: $fill-darker-grey
  color: $text-light-grey
  overflow-x: hidden

body
  font: 400 100%/1.65 $base-font
  text-rendering: optimizeLegibility

img
  max-width: 100%

a
  color: $text-white
  text-decoration: none

  img
    vertical-align: top

.wf-loading .webfont
  visibility: hidden

// components

.signup-form
  font-size: rem(16)

  +min-width($tablet-narrow)
    font-size: rem(20)

.field
  +prefix-property(border-radius, 0)
  +prefix-property(appearance, none)
  float: left
  width: 100%
  height: em(56)
  padding: 1em
  margin: 0 em(-72) 0 0
  border: none
  outline: none
  background: $fill-white
  font-size: em(16)

.button
  +prefix-property(border-radius, 0)
  float: right
  padding: 0
  margin: 0
  width: em(72)
  height: em(56)
  border: none
  outline: none
  background: url(/assets/images/check.png) no-repeat
  background-position: center center
  background-size: em(32) em(32)
  background-color: $fill-green
  text-indent: -9999px
  color: $text-white

  &:hover
    background-color: $fill-green-hover

input::-webkit-input-placeholder
  color: $text-light-grey

input:-moz-placeholder
  color: $text-light-grey

input::-moz-placeholder
  color: $text-light-grey

input:-ms-input-placeholder
  color: $text-light-grey

// header

.main-header
  +clearfix
  max-width: $max-width
  margin: 0 auto
  padding: 2em

  .logo-wrapper
    margin: 0

  .logo
    display: block
    height: 45px
    margin: 0.35em auto
    background: url(/assets/logo.png) no-repeat
    background-position: 50% 0
    background-size: contain

  .logotype
    display: block
    width: 90px
    height: 20px
    margin: 0 auto
    background: url(/assets/logotype.svg) no-repeat
    background-position: 50% 0
    background-size: contain
    text-indent: -9999px

  .tagline
    margin: 1.5em 0 0
    font-family: $header-font
    font-size: 0.875em
    font-weight: 300
    text-align: center
    text-transform: uppercase

    +media($tablet-landscape)
      display: none

// footer

.main-footer
  padding: em(20) em(10)
  text-align: center

// hero

.hero
  +clearfix

  .device-list
    position: absolute
    width: 100%
    height: 100%
    top: 10%

    > li
      +transition(opacity 0.75s $easeInOutSine)
      opacity: 0

      &:first-child,
      &.is-selected
        opacity: 1

  .device
    position: absolute
    top: 0
    left: 0
    right: 0
    bottom: 0
    background-repeat: no-repeat
    background-size: 80%
    background-position: 50% 0

  .device-foreground-list-wrapper
    position: absolute
    overflow: hidden
    white-space: nowrap
    margin: 0 16%
    top: 34%
    left: 3px
    right: 0
    bottom: 0

  .device-foreground-list
    +transition(left 0.5s $easeInOutCubic)
    position: absolute
    left: 0
    width: 400%
    height: 100%

    background-color: rgba(0, 0, 0, 0.8)

    &.is-selected-2
      left: -100%

    &.is-selected-3
      left: -200%

    &.is-selected-4
      left: -300%

  .device-foreground
    display: block
    float: left
    width: 25%
    height: 100%
    background-repeat: no-repeat
    background-size: cover

  .background,
  .device-background
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    background-repeat: no-repeat
    background-position: 50% 50%
    background-size: cover

  .fading-bg-list > li
    +transition(opacity 0.75s $easeInOutSine)
    opacity: 0

    &.is-selected
      opacity: 1

  .device-background
    background-clip: content-box
    padding: 26% 16% 0

.hero-image-section
  position: relative
  overflow: hidden
  height: 0
  padding-bottom: 100%
  background-color: #000

.list
  margin: 0

.hero-shadow
  position: absolute
  z-index: 1
  left: 0
  top: 0
  width: 100%
  height: 100%
  background: url(/assets/hero-shadow.png) repeat-x
  background-position: 0 100%
  background-size: 100% 25%

.carousel-list
  +clearfix
  position: relative
  float: left
  left: 50%
  margin: 1.625em 0

.carousel-list-item
  position: relative
  float: left
  right: 50%

.carousel-list-dot
  +prefix-property(border-radius, 0.5em)
  display: block
  margin: 0 0.4375em
  padding: 0.25em
  width: 1em
  height: 1em
  background-clip: content-box

  .is-selected &
    background-color: $fill-grey

  &:before
    +prefix-property(border-radius, 0.5em)
    position: relative
    display: block
    top: em(-3)
    left: em(-3)
    width: em(14)
    height: em(14)
    content: ''
    border: solid 1px $line-grey

// sections

.section
  +clearfix
  position: relative
  margin: em(20) 0

  +min-width($tablet-narrow)
    font-size: 150%

  +min-width($tablet-wide)
    font-size: 200%

  +min-width($desktop-size)
    font-size: 250%

.labelled-section
  position: relative
  margin: em(-60) 0 0 0
  padding-top: rem(120)
  background: url(/assets/images/frame.svg) no-repeat
  background-position: center top

  +min-width($tablet-narrow)
    margin-top: 0
    padding-top: rem(100)

  .section-title
    margin-bottom: em(100)

  // &:before
  //   display: block
  //   position: absolute
  //   z-index: 3
  //   top: rem(14)
  //   left: 0
  //   width: 100%
  //   bottom: 0
  //   border-top: solid 1px $line-dark-grey
  //   content: ''

  //   +min-width($tablet-narrow)
  //     top: rem(16)

  //   +min-width(rem(900))
  //     +prefix-property(border-radius, rem(36))
  //     left: rem(40)
  //     right: rem(40)
  //     width: auto
  //     border: solid 1px $line-dark-grey

  //   +min-width(rem(1124))
  //     left: 50%
  //     right: auto
  //     width: 100%
  //     max-width: rem(1024)
  //     margin-left: rem(-1024/2)

.background-section
  background: $fill-darkest-grey
  background-repeat: no-repeat
  // background-position: center center
  // background-size: cover

.about-section
  z-index: 4

  +outer-container
  margin-top: 0
  margin-bottom: em(20)
  padding-top: em(40)

  .section-headline
    margin-top: 0

  +min-width($tablet-narrow)
    font-size: 150%

    .section-headline
      font-size: rem(36)

  +min-width($tablet-wide)
    font-size: 200%

    .section-headline
      font-size: rem(46)

  +min-width($desktop-size)
    font-size: 250%

    .section-headline
      font-size: rem(56)

.section-title
  +prefix-property(border-radius, 1.75em)

  position: relative
  display: block
  z-index: 3
  width: em(180)
  margin-left: auto
  margin-right: auto

  border: solid 1px $line-dark-grey
  font-family: $header-font
  font-size: rem(16)
  font-weight: 300
  text-transform: uppercase
  text-align: center
  color: $text-grey
  background-color: $fill-darker-grey

  +min-width($tablet-narrow)
    font-size: rem(20)

.section-headline
  position: relative
  z-index: 2
  margin: em(30, 24) em(10, 24) em(10, 24)

  font-size: rem(24)
  font-weight: 300
  text-align: center
  color: $text-white

  +min-width($tablet-wide)
    font-size: rem(32)

.section-tagline
  margin-top: 0
  margin-left: em(10, 16)
  margin-right: em(10, 16)
  font-size: rem(16)
  font-weight: 300
  text-align: center

  +media($desktop)
    font-size: rem(20)

.copy
  max-width: 38em
  margin: 0 em(10)
  font-size: rem(16)
  font-weight: 300

  &.center
    text-align: center

  +min-width($tablet-narrow)
    margin-left: em(20)
    margin-right: em(20)

  +min-width($tablet-wide)
    margin-left: auto
    margin-right: auto

.section-copy
  position: relative
  z-index: 2

  +min-width($tablet-narrow)
    font-size: rem(20)

  +min-width($tablet-wide)
    padding-left: em(20)
    padding-right: em(20)

  +min-width($desktop-size)
    font-size: rem(24)
    font-weight: 300

.subsection
  margin: em(40) 0
  font-size: rem(16)

.subsection-copy
  font-size: rem(16)

  +min-width($desktop-size)
    font-size: rem(18)

.subsection-headline
  margin: em(20, 20) 0 0

  font-size: rem(20)
  font-weight: 400
  text-align: center
  color: $text-white

  +min-width($tablet-wide)
    font-size: rem(22)
    margin-bottom: 0

// signup

.signup-section
  position: relative
  z-index: 1
  margin-top: 0
  margin-bottom: 0
  padding: em(30) 0 0 0

  .section-headline
    margin-top: 0

  .section-copy
    margin-bottom: em(30)

  +min-width($tablet-narrow)
    padding: em(40) 0

.signup-form
  max-width: rem(480)
  margin: 0 auto

// figures

.fig-section
  z-index: 3

  .device-wrapper
    margin-bottom: em(40)

    +media($tablet-portrait)
      margin-top: em(40)

    +media($desktop)
      margin-top: em(30)

  .device
    overflow: hidden

  .figures
    $width: em(800)
    position: relative
    left: 50%
    width: $width
    height: em(80)
    margin-left: -$width/2
    background: url(/assets/images/figures-mobile.jpg) no-repeat center center
    background-size: contain

  +min-width($desktop-size)
    overflow: hidden

    .device-wrapper
      position: relative
      border-bottom: solid 1px $line-dark-grey

    .device
      position: relative
      z-index: 1
      width: rem(384)
      height: rem(500)
      margin: 0 auto
      background: url(/assets/images/figures-device.jpg) no-repeat
      background-size: contain

    .figures-wrapper
      overflow: hidden
      position: relative
      left: rem(-2)
      width: rem(318)
      height: rem(180)
      margin: rem(200) auto 0

    .figures
      position: relative
      left: rem(20)
      width: rem(1419)
      height: rem(180)
      margin-left: 0
      background: url(/assets/images/figures-wide.jpg) no-repeat
      background-position: left top
      background-size: contain

    .figures-blurred
      position: absolute
      top: rem(200)
      left: 50%

      &:before
        display: block
        position: relative
        left: rem(-140)
        width: rem(1419)
        height: rem(180)
        background: url(/assets/images/figures-blurred-wide.jpg) no-repeat
        background-size: contain
        content: ''

// fields

.fields-section
  z-index: 2

  .subsection
    max-width: rem(300)
    margin-left: auto
    margin-right: auto
    margin-bottom: em(60)
    text-align: center

  .subsection-icon
    width: 100%
    height: 0
    padding-bottom: 35%

    background-repeat: no-repeat
    background-position: center center
    background-size: contain

  +media($tablet-landscape)
    .section-content
      +outer-container
      padding: 0 $gutter

    .subsection
      max-width: auto
      +span-columns(4)

    .subsection-icon
      padding-bottom: 45%

// streams

.streams-section
  z-index: 1

  .icon-list
    +clearfix
    position: relative
    float: left
    left: 50%

  .icon-item
    position: relative
    float: left
    left: -50%
    margin-left: em(20, 32)
    margin-top: em(10, 32)

    font-size: rem(32)
    color: $text-darkest-grey

    &:first-child
      margin-left: 0

  .device
    height: 0
    margin-top: em(40)
    padding-bottom: 29.375%
    background-image: url(/assets/images/streams.jpg)
    background-repeat: no-repeat
    background-size: contain

  .subsection
    max-width: rem(300)
    margin-left: auto
    margin-right: auto
    text-align: center

  .swipe-subsection
    display: none

  +media($tablet-portrait)
    .icon-list
      float: none
      left: 0

    .icon-item
      left: 0

    .section-content
      +outer-container
      margin-top: em(60, 24)
      padding-right: $gutter

    .device
      +span-columns(3)
      margin-top: 0
      height: em(350)
      padding-bottom: 0
      background-image: url(/assets/images/streams-device.jpg)
      background-position: right center
      background-size: cover

    .subsections-wrapper
      +span-columns(5)

    .subsection
      max-width: auto
      margin-left: 0
      margin-right: 0
      text-align: left

    .subsection-headline
      text-align: left

    .copy
      margin-left: 0
      margin-right: 0

  +media($mini-tablet-portrait)
    .section-content
      margin-top: em(40, 24)
      padding-left: $gutter

    .device
      +span-columns(4)
      background-size: contain

    .subsections-wrapper
      +span-columns(4)

  +media($tablet-landscape)
    .device
      height: em(300)
      background-position: center center

    .swipe-subsection
      display: block

// maps

.maps-section
  overflow: hidden
  padding: em(30) em(10)
  margin-top: em(50)
  margin-bottom: 0

  background: url(/assets/images/map.jpg) no-repeat
  background-position: center center
  background-size: cover

  .section-title
    margin-top: em(10)
    margin-bottom: em(30)
    border-color: $line-white
    background: none
    color: $text-white

  .section-headline
    font-weight: 500

  .section-tagline
    margin: 0
    color: $text-white

  +media($tablet-portrait)
    max-height: rem(520)

    .section-tagline
      margin-bottom: em(40)

    .device
      position: relative
      margin: 0 auto
      width: rem(300)
      height: rem(500)
      background: url(/assets/images/maps-device.png) no-repeat
      background-size: contain

      &:after
        position: absolute
        top: rem(90)
        left: rem(23)
        right: rem(23)
        bottom: 0
        background: url(/assets/images/maps-screen.jpg) no-repeat
        background-size: contain
        content: ''

  +media($tablet-landscape)
    padding-top: em(20)

    .section-headline
      font-weight: 300

  +media($desktop)
    max-height: rem(600)

    .section-copy
      margin-bottom: em(50, 18)

    .device
      width: rem(384)

      &:after
        top: rem(119)
        left: rem(30)
        right: rem(30)

//

@media screen and (min-width: 488px)
  .main-header
    .logo
      float: left
      width: 90px
      height: 90px
      margin: 0

    .logotype
      position: relative
      top: 0.5rem
      left: 7rem
      width: 180px
      height: 40px
      margin: 0

    .tagline
      position: relative
      top: 1rem
      left: 1.375rem
      margin: 0
      font-size: 1em
      text-align: left

  .hero
    .device
      background-size: initial

    .device-background-list
      +prefix-property(box-sizing, content-box)
      position: absolute
      top: 0
      left: 50%
      width: 333px
      height: 100%
      margin-left: -166px

    .device-background
      padding: 138px 0 0 0

    .device-foreground-list-wrapper
      top: 137px
      width: 334px
      margin-left: auto
      margin-right: auto

    .device-list
      top: 16px


@media screen and (min-width: 710px)
  .main-header
    .logotype
      float: left
      top: 1.25rem
      left: 1.375rem

    .tagline
      float: right
      top: 1.75rem
      left: 0
      font-size: 1.375rem

  .hero
    .background-list
      position: relative
      // max-width: 1536px
      height: 100%
      margin: 0 auto

  .hero-image-section
    height: 710px
    padding-bottom: 0
